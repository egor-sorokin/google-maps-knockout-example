var initMap;!function(){"use strict";initMap=function(){function e(e){var t=new google.maps.MarkerImage("http://chart.googleapis.com/chart?chst=d_map_spin&chld=1.15|0|"+e+"|40|_|%E2%80%A2",new google.maps.Size(21,34),new google.maps.Point(0,0),new google.maps.Point(10,34),new google.maps.Size(21,34));return t}function t(e,t){function o(o,l){if(l===google.maps.StreetViewStatus.OK){var a=o.location.latLng,n=google.maps.geometry.spherical.computeHeading(a,e.position);t.setContent('<div class="text">'+e.title+'</div><div id="pano" class="pano"></div>');var i={position:a,pov:{heading:n,pitch:30}};new google.maps.StreetViewPanorama(document.getElementById("pano"),i)}else t.setContent('<div class="text">'+e.title+"</div><div>No Street View Found</div>")}if(t.marker!==e){t.marker=e,t.setContent("<div>"+e.position+"</div>"),t.addListener("closeclick",function(){t.marker=null,e.setIcon(d)});var l=new google.maps.StreetViewService,a=50;l.getPanoramaByLocation(e.position,a,o),t.open(n,e)}}function o(){for(var e=0;e<i.length;e++){var o=i[e].location,l=i[e].title,a=new google.maps.Marker({position:o,title:l,id:e,draggable:!0,animation:google.maps.Animation.DROP,icon:d});r.push(a),a.addListener("click",function(){this.setIcon(y),t(this,c)})}}function l(){for(var e=new google.maps.LatLngBounds,t=0;t<r.length;t++)r[t].setMap(n),e.extend(r[t].position);n.fitBounds(e)}function a(){google.maps.event.addDomListener(window,"load",function(){var e=initMap();ko.applyBindings(new ViewModel(e,i))})}var n,i,r,s,p,c,d,y;r=[],p=document.getElementById("map"),c=new google.maps.InfoWindow,s=[{elementType:"geometry",stylers:[{color:"#7a757b"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#d7c2d2"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#f0e9ee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d3ccd5"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#3c5842"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#669a5c"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ca9bd2"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#352937"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#dbdddd"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#d48dc2"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#9b8d9c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#8d7985"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#a18a98"}]}],i=[{place_id:"ChIJ_f9-6SYGelMRaZ4lDCFImk4",title:"Kootenay National Park",location:{lat:50.9769367,lng:-115.9592102}},{place_id:"ChIJyaLFSj48eVMRc4lvx8rhwJ0",title:"Two Lakes In Revelstoke National Park",location:{lat:51.0336631,lng:-118.1640469}},{place_id:"ChIJlZGSjCtmd1MR5tfKrGjincA",title:"Banff National Park",location:{lat:51.4968464,lng:-115.9280562}},{place_id:"ChIJxWd-JkUIeVMRuQ7amxSgRPA",title:"Glacier National Park of Canada",location:{lat:51.335289,lng:-117.5297595}},{place_id:"ChIJv0mRixFDb1MRHFgDVHceYN8",title:"Waterton Lakes National Park",location:{lat:49.0833333,lng:-113.9166667}}],n=new google.maps.Map(p,{center:{lat:54.367859,lng:-114.266224},zoom:13,mapTypeControl:!1,styles:s}),d=e("0091ff"),y=e("f3d19c"),o(),l(),a()}}();