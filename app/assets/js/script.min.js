
!function(e){"use strict";var t=[{place_id:"ChIJ_f9-6SYGelMRaZ4lDCFImk4",title:"Kootenay National Park",locations:{lat:50.9769367,lng:-115.9592102}},{place_id:"ChIJyaLFSj48eVMRc4lvx8rhwJ0",title:"Two Lakes In Revelstoke National Park",location:{lat:51.0336631,lng:-118.1640469}},{place_id:"ChIJlZGSjCtmd1MR5tfKrGjincA",title:"Banff National Park",location:{lat:51.4968464,lng:-115.9280562}},{place_id:"ChIJxWd-JkUIeVMRuQ7amxSgRPA",title:"Glacier National Park of Canada",location:{lat:51.335289,lng:-117.5297595}},{place_id:"ChIJv0mRixFDb1MRHFgDVHceYN8",title:"Waterton Lakes National Park",location:{lat:49.0833333,lng:-113.9166667}}],a=function(e){this.title=ko.observable(e.title)},i=function(){var i=this;i.filterInput=document.querySelector(".js-form input"),i.sidebarActiveClass="active",i.placesList=ko.observableArray([]),t.forEach(function(e){i.placesList.push(new a(e))}),i.currentPlace=ko.observable(i.placesList()[0]),i.filter=function(){var e=i.filterInput.value;i.placesList([]),t.forEach(function(t){t.title.toLowerCase().indexOf(e)!==-1&&i.placesList.push(new a(t))})},i.setCurrentPlace=function(t,a){i.currentPlace(t);for(var n=a.target,l=n.parentNode,o=n.nextElementSibling,r=document.querySelectorAll(".list__item-description"),c=0;c<r.length;c++)r[c]!==o&&r[c].parentNode.classList.remove(i.sidebarActiveClass),r[c].innerHTML="";var s="http://en.wikipedia.org/w/api.php?action=opensearch&search="+t.title()+"&format=json&callback=wikiCallback",u=setTimeout(function(){o.innerHTML="",o.innerHTML+="Failed to get wikipedia resources",l.classList.add(i.sidebarActiveClass)},5e3);e.ajax({url:s,dataType:"jsonp",jsonp:"callback",success:function(e){var t=e[2];0!==t.length?o.innerHTML+=t:o.innerHTML+="Description not found",l.classList.add(i.sidebarActiveClass),clearTimeout(u)},error:function(e){o.innerHTML+="Something went wrong",console.log("Request returned an error: ",e)}})}};ko.applyBindings(new i)}(jQuery);